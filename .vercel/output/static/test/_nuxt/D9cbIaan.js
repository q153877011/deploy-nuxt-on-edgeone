import{_ as c}from"./CdpbPFo3.js";import{p as g,e as x,r as i,f as k,c as n,o as a,a as e,g as y,t as d,b as p,w as f,d as v,_ as w}from"#entry";const b=g("/avator.jpg"),N={key:0,class:"loading"},A={key:1,class:"error"},C={key:2,class:"api-data"},I=["disabled"],P=x({__name:"index",setup(T){const r=i(null),s=i(!0),l=i(null),m=async()=>{s.value=!0,l.value=null;try{const o=await fetch("/api/server-test");if(!o.ok)throw new Error(`HTTP error! status: ${o.status}`);const t=await o.json();r.value=t,console.log("API 数据:",t)}catch(o){l.value=o instanceof Error?o.message:"未知错误",console.error("API 错误:",o)}finally{s.value=!1}},_=()=>{m()};return k(()=>{m()}),(o,t)=>{const u=c;return a(),n("div",null,[t[5]||(t[5]=e("h1",null,"Welcome to the homepage",-1)),t[6]||(t[6]=e("p",null,"This is an auto-imported component",-1)),s.value?(a(),n("div",N," 正在加载数据... ")):l.value?(a(),n("div",A," 加载失败: "+d(l.value),1)):r.value?(a(),n("div",C,[t[4]||(t[4]=e("h2",null,"API 数据:",-1)),e("pre",null,d(JSON.stringify(r.value,null,2)),1),e("button",{onClick:t[0]||(t[0]=V=>_()),disabled:s.value},d(s.value?"刷新中...":"刷新数据"),9,I),e("div",null,[e("nav",null,[e("ul",null,[e("li",null,[p(u,{to:"/about"},{default:f(()=>[...t[1]||(t[1]=[v("关于",-1)])]),_:1})]),e("li",null,[p(u,{to:"/posts/1"},{default:f(()=>[...t[2]||(t[2]=[v("文章 1",-1)])]),_:1})]),e("li",null,[p(u,{to:"/posts/2"},{default:f(()=>[...t[3]||(t[3]=[v("文章 2",-1)])]),_:1})])])])])])):y("",!0),t[7]||(t[7]=e("img",{src:b,alt:"Logo",width:"100px",height:"100px"},null,-1))])}}}),E=w(P,[["__scopeId","data-v-653f9ff8"]]);export{E as default};
