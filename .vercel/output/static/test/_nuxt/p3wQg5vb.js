import{h as _,i as U,j as k,k as f,l as x,_ as C,m as T,u as M,c as F,a,t as B,n as v,d as A,o as q}from"#entry";import{u as L}from"./D8WxDDvJ.js";function N(l){return typeof l=="string"?`'${l}'`:new P().serialize(l)}const P=(function(){class l{#t=new Map;compare(t,e){const n=typeof t,r=typeof e;return n==="string"&&r==="string"?t.localeCompare(e):n==="number"&&r==="number"?t-e:String.prototype.localeCompare.call(this.serialize(t,!0),this.serialize(e,!0))}serialize(t,e){if(t===null)return"null";switch(typeof t){case"string":return e?t:`'${t}'`;case"bigint":return`${t}n`;case"object":return this.$object(t);case"function":return this.$function(t)}return String(t)}serializeObject(t){const e=Object.prototype.toString.call(t);if(e!=="[object Object]")return this.serializeBuiltInType(e.length<10?`unknown:${e}`:e.slice(8,-1),t);const n=t.constructor,r=n===Object||n===void 0?"":n.name;if(r!==""&&globalThis[r]===n)return this.serializeBuiltInType(r,t);if(typeof t.toJSON=="function"){const i=t.toJSON();return r+(i!==null&&typeof i=="object"?this.$object(i):`(${this.serialize(i)})`)}return this.serializeObjectEntries(r,Object.entries(t))}serializeBuiltInType(t,e){const n=this["$"+t];if(n)return n.call(this,e);if(typeof e?.entries=="function")return this.serializeObjectEntries(t,e.entries());throw new Error(`Cannot serialize ${t}`)}serializeObjectEntries(t,e){const n=Array.from(e).sort((i,u)=>this.compare(i[0],u[0]));let r=`${t}{`;for(let i=0;i<n.length;i++){const[u,c]=n[i];r+=`${this.serialize(u,!0)}:${this.serialize(c)}`,i<n.length-1&&(r+=",")}return r+"}"}$object(t){let e=this.#t.get(t);return e===void 0&&(this.#t.set(t,`#${this.#t.size}`),e=this.serializeObject(t),this.#t.set(t,e)),e}$function(t){const e=Function.prototype.toString.call(t);return e.slice(-15)==="[native code] }"?`${t.name||""}()[native]`:`${t.name}(${t.length})${e.replace(/\s*\n\s*/g,"")}`}$Array(t){let e="[";for(let n=0;n<t.length;n++)e+=this.serialize(t[n]),n<t.length-1&&(e+=",");return e+"]"}$Date(t){try{return`Date(${t.toISOString()})`}catch{return"Date(null)"}}$ArrayBuffer(t){return`ArrayBuffer[${new Uint8Array(t).join(",")}]`}$Set(t){return`Set${this.$Array(Array.from(t).sort((e,n)=>this.compare(e,n)))}`}$Map(t){return this.serializeObjectEntries("Map",t.entries())}}for(const s of["Error","RegExp","URL"])l.prototype["$"+s]=function(t){return`${s}(${t})`};for(const s of["Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array"])l.prototype["$"+s]=function(t){return`${s}[${t.join(",")}]`};for(const s of["BigInt64Array","BigUint64Array"])l.prototype["$"+s]=function(t){return`${s}[${t.join("n,")}${t.length>0?"n":""}]`};return l})(),W=[1779033703,-1150833019,1013904242,-1521486534,1359893119,-1694144372,528734635,1541459225],V=[1116352408,1899447441,-1245643825,-373957723,961987163,1508970993,-1841331548,-1424204075,-670586216,310598401,607225278,1426881987,1925078388,-2132889090,-1680079193,-1046744716,-459576895,-272742522,264347078,604807628,770255983,1249150122,1555081692,1996064986,-1740746414,-1473132947,-1341970488,-1084653625,-958395405,-710438585,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,-2117940946,-1838011259,-1564481375,-1474664885,-1035236496,-949202525,-778901479,-694614492,-200395387,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,-2067236844,-1933114872,-1866530822,-1538233109,-1090935817,-965641998],G="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",g=[];class J{_data=new b;_hash=new b([...W]);_nDataBytes=0;_minBufferSize=0;finalize(s){s&&this._append(s);const t=this._nDataBytes*8,e=this._data.sigBytes*8;return this._data.words[e>>>5]|=128<<24-e%32,this._data.words[(e+64>>>9<<4)+14]=Math.floor(t/4294967296),this._data.words[(e+64>>>9<<4)+15]=t,this._data.sigBytes=this._data.words.length*4,this._process(),this._hash}_doProcessBlock(s,t){const e=this._hash.words;let n=e[0],r=e[1],i=e[2],u=e[3],c=e[4],d=e[5],o=e[6],$=e[7];for(let h=0;h<64;h++){if(h<16)g[h]=s[t+h]|0;else{const y=g[h-15],p=(y<<25|y>>>7)^(y<<14|y>>>18)^y>>>3,m=g[h-2],S=(m<<15|m>>>17)^(m<<13|m>>>19)^m>>>10;g[h]=p+g[h-7]+S+g[h-16]}const I=c&d^~c&o,O=n&r^n&i^r&i,D=(n<<30|n>>>2)^(n<<19|n>>>13)^(n<<10|n>>>22),R=(c<<26|c>>>6)^(c<<21|c>>>11)^(c<<7|c>>>25),j=$+R+I+V[h]+g[h],z=D+O;$=o,o=d,d=c,c=u+j|0,u=i,i=r,r=n,n=j+z|0}e[0]=e[0]+n|0,e[1]=e[1]+r|0,e[2]=e[2]+i|0,e[3]=e[3]+u|0,e[4]=e[4]+c|0,e[5]=e[5]+d|0,e[6]=e[6]+o|0,e[7]=e[7]+$|0}_append(s){typeof s=="string"&&(s=b.fromUtf8(s)),this._data.concat(s),this._nDataBytes+=s.sigBytes}_process(s){let t,e=this._data.sigBytes/64;s?e=Math.ceil(e):e=Math.max((e|0)-this._minBufferSize,0);const n=e*16,r=Math.min(n*4,this._data.sigBytes);if(n){for(let i=0;i<n;i+=16)this._doProcessBlock(this._data.words,i);t=this._data.words.splice(0,n),this._data.sigBytes-=r}return new b(t,r)}}class b{words;sigBytes;constructor(s,t){s=this.words=s||[],this.sigBytes=t===void 0?s.length*4:t}static fromUtf8(s){const t=unescape(encodeURIComponent(s)),e=t.length,n=[];for(let r=0;r<e;r++)n[r>>>2]|=(t.charCodeAt(r)&255)<<24-r%4*8;return new b(n,e)}toBase64(){const s=[];for(let t=0;t<this.sigBytes;t+=3){const e=this.words[t>>>2]>>>24-t%4*8&255,n=this.words[t+1>>>2]>>>24-(t+1)%4*8&255,r=this.words[t+2>>>2]>>>24-(t+2)%4*8&255,i=e<<16|n<<8|r;for(let u=0;u<4&&t*8+u*6<this.sigBytes*8;u++)s.push(G.charAt(i>>>6*(3-u)&63))}return s.join("")}concat(s){if(this.words[this.sigBytes>>>2]&=4294967295<<32-this.sigBytes%4*8,this.words.length=Math.ceil(this.sigBytes/4),this.sigBytes%4)for(let t=0;t<s.sigBytes;t++){const e=s.words[t>>>2]>>>24-t%4*8&255;this.words[this.sigBytes+t>>>2]|=e<<24-(this.sigBytes+t)%4*8}else for(let t=0;t<s.sigBytes;t+=4)this.words[this.sigBytes+t>>>2]=s.words[t>>>2];this.sigBytes+=s.sigBytes}}function H(l){return new J().finalize(l).toBase64()}function w(l){return H(N(l))}function K(l,s,t){const[e={},n]=typeof s=="string"?[{},s]:[s,t],r=_(()=>f(l)),i=_(()=>f(e.key)||"$f"+w([n,typeof r.value=="string"?r.value:"",...Q(e)]));if(!e.baseURL&&typeof r.value=="string"&&r.value[0]==="/"&&r.value[1]==="/")throw new Error('[nuxt] [useFetch] the request URL must not start with "//".');const{server:u,lazy:c,default:d,transform:o,pick:$,watch:h,immediate:I,getCachedData:O,deep:D,dedupe:R,...j}=e,z=U({...k,...j,cache:typeof e.cache=="boolean"?void 0:e.cache}),y={server:u,lazy:c,default:d,transform:o,pick:$,immediate:I,getCachedData:O,deep:D,dedupe:R,watch:h===!1?[]:[...h||[],z]};let p;return L(h===!1?i.value:i,()=>{p?.abort?.(new DOMException("Request aborted as another request to the same endpoint was initiated.","AbortError")),p=typeof AbortController<"u"?new AbortController:{};const S=f(e.timeout);let E;return S&&(E=setTimeout(()=>p.abort(new DOMException("Request aborted due to timeout.","AbortError")),S),p.signal.onabort=()=>clearTimeout(E)),(e.$fetch||globalThis.$fetch)(r.value,{signal:p.signal,...z}).finally(()=>{clearTimeout(E)})},y)}function Q(l){const s=[f(l.method)?.toUpperCase()||"GET",f(l.baseURL)];for(const t of[l.params||l.query]){const e=f(t);if(!e)continue;const n={};for(const[r,i]of Object.entries(e))n[f(r)]=f(i);s.push(n)}if(l.body){const t=f(l.body);if(!t)s.push(w(t));else if(t instanceof ArrayBuffer)s.push(w(Object.fromEntries([...new Uint8Array(t).entries()].map(([e,n])=>[e,n.toString()]))));else if(t instanceof FormData){const e={};for(const n of t.entries()){const[r,i]=n;e[r]=i instanceof File?i.name:i}s.push(w(e))}else if(x(t))s.push(w(U(t)));else try{s.push(w(t))}catch{console.warn("[useFetch] Failed to hash body",t)}}return s}const X={class:"isr-test-page"},Y={class:"container"},Z={class:"time-display"},tt={class:"time-box"},et={class:"time-value"},st={class:"seconds"},nt={class:"info-section"},rt={__name:"test-isr",async setup(l){let s,t;const{data:e}=([s,t]=T(()=>K("/api/time",{server:!0,key:"time-data"},"$wylAavoiIB")),s=await s,t(),s),n=_(()=>e.value?.localTime||""),r=_(()=>e.value?.seconds||0),i=_(()=>e.value?.randomId||0),u=_(()=>e.value?.generatedAt||""),c="Client-side";return M({title:"ISR æµ‹è¯•é¡µé¢ - SWRç¼“å­˜",meta:[{name:"description",content:"Nuxt ISR æµ‹è¯•é¡µé¢ï¼Œä½¿ç”¨SWRç¼“å­˜éªŒè¯åŠŸèƒ½"}]}),(d,o)=>(q(),F("div",X,[a("div",Y,[o[7]||(o[7]=a("h1",null,"ISR æµ‹è¯•é¡µé¢",-1)),a("div",Z,[o[0]||(o[0]=a("h2",null,"å½“å‰æ—¶é—´",-1)),a("div",tt,[a("div",et,B(v(n)),1),a("div",st,"ç§’æ•°: "+B(v(r)),1)])]),a("div",nt,[o[6]||(o[6]=a("h3",null,"é¡µé¢ä¿¡æ¯",-1)),a("ul",null,[a("li",null,[o[1]||(o[1]=a("strong",null,"APIç”Ÿæˆæ—¶é—´:",-1)),A(" "+B(v(u)),1)]),a("li",null,[o[2]||(o[2]=a("strong",null,"é¡µé¢ç”Ÿæˆæ—¶é—´:",-1)),A(" "+B(v(c)),1)]),a("li",null,[o[3]||(o[3]=a("strong",null,"éšæœºID:",-1)),A(" "+B(v(i)),1)]),o[4]||(o[4]=a("li",null,[a("strong",null,"SWR é‡æ–°éªŒè¯:"),A(" 10ç§’")],-1)),o[5]||(o[5]=a("li",null,[a("strong",null,"é¡µé¢ç±»å‹:"),A(" å¢é‡é™æ€å†ç”Ÿ (SWR)")],-1))])]),o[8]||(o[8]=a("div",{class:"refresh-info"},[a("p",null,"ğŸ”„ æ­¤é¡µé¢æ¯10ç§’è‡ªåŠ¨é‡æ–°ç”Ÿæˆ"),a("p",null,"ğŸ“Š åœ¨10ç§’å†…åˆ·æ–°é¡µé¢ï¼ŒéšæœºIDåº”è¯¥ä¿æŒä¸å˜"),a("p",null,"â° è¶…è¿‡10ç§’ååˆ·æ–°ï¼ŒéšæœºIDä¼šæ›´æ–°")],-1))])]))}},lt=C(rt,[["__scopeId","data-v-f8f88ee4"]]);export{lt as default};
