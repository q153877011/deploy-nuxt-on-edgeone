import{d as v,r as u,o as _,g as f,y as a,z as n,A as l,C as m,F as y,D as g,E as h,B as i,_ as A}from"#entry";const k={key:0,class:"loading"},x={key:1,class:"error"},C={key:2,class:"api-data"},w=["disabled"],N=v({__name:"index",setup(b){const r=u(null),o=u(!0),s=u(null),d=async()=>{o.value=!0,s.value=null;try{const t=await fetch("/api/server-test");if(!t.ok)throw new Error(`HTTP error! status: ${t.status}`);const e=await t.json();r.value=e,console.log("API 数据:",e)}catch(t){s.value=t instanceof Error?t.message:"未知错误",console.error("API 错误:",t)}finally{o.value=!1}},c=()=>{d()};return _(()=>{d()}),(t,e)=>{const p=f("AppAlert");return n(),a("div",null,[e[3]||(e[3]=l("h1",null,"Welcome to the homepage",-1)),m(p,null,{default:g(()=>[...e[1]||(e[1]=[h(" This is an auto-imported component ",-1)])]),_:1}),o.value?(n(),a("div",k," 正在加载数据... ")):s.value?(n(),a("div",x," 加载失败: "+i(s.value),1)):r.value?(n(),a("div",C,[e[2]||(e[2]=l("h2",null,"API 数据:",-1)),l("pre",null,i(JSON.stringify(r.value,null,2)),1),l("button",{onClick:e[0]||(e[0]=B=>c()),disabled:o.value},i(o.value?"刷新中...":"刷新数据"),9,w)])):y("",!0)])}}}),I=A(N,[["__scopeId","data-v-d812bc3a"]]);export{I as default};
